<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>User Profile</title>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.2.1.js"></script>
    <script type="text/javascript" src="http://ajax.aspnetcdn.com/ajax/jquery.templates/beta1/jquery.tmpl.js"></script>
    <link rel="stylesheet" href="stylesheets/style.css">
</head>
<style>
    #divElement{
        position: absolute;
        left: 25%;
        width: 50%;
    }â€‹
     #loginDiv{
         float: left;
         width: 49%;
     }
</style>
<body>

<script id="timeTemplate" type="text/x-jQuery-tmpl">
    <li>${time}</li>
</script>
<div style="height: 50px; margin-top: 0px;padding-top: 0px;top: 0px; background-color: darkblue">
    <h1 style="color: white;text-align:center">Web Page Behaviour logging application
        <a style="color: #00BFFF;float: right;padding-right: 10px" href="/">Logout</a> </h1>
</div>
<div id="divElement" style="background-color: white">
    <h1 style="text-align:center" id="welcomeuser">Welcome user_name</h1>

    <h2 style="text-align:center"><a target="_blank" id="stackoverflow" href="https://stackoverflow.com/questions/tagged/java?sort=frequent&pageSize=15">Stack Overflow</a></h2>
    <div style="text-align:center" >
        <h2 id="loginHistoryTitle">Login History of user_name</h2>
        <textarea id = "loginTextArea" rows="10" cols="70">
        </textarea>

        <h2 id="InteractionsTitle">Interactions of user_name</h2>
        <textarea id = "actionsTextArea" rows="10" cols="70">

        </textarea>
        <br>
        <button onclick="getInteractionsFromDB()" style="text-align:center">Show Interactions</button>
    </div>

</div>

</body>
<script>
    document.cookie = "userName=user_name";
    //var value = $.cookie("obligations");
    console.log("cookie:"+document.cookie);
    $( document ).ready(function() {
        console.log(localStorage.getItem("userName"));
        var historyList = [];
        $.ajax({
            url: "/login/historyData",
            type:"POST",
            data:{'userName':'user_name'},
            success: function(historyData){
                //console.log("HistoryData: " + historyData);
                var strs = String(historyData);
                strs = strs.replace(/\|/g,'\n');
                document.getElementById("loginTextArea").value = strs;
            }
        });
    });

    function getInteractionsFromDB() {
        $.ajax({
            url: "/login/getInteractionsFromDB",
            type:"POST",
            success: function(actionsData){
                document.getElementById("actionsTextArea").value = actionsData;
            }
        });
    }
</script>
</html>